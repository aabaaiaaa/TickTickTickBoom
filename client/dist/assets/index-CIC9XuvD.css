.home-screen{flex:1;display:flex;align-items:center;justify-content:center;padding:2rem}.home-content{max-width:500px;width:100%;text-align:center}.logo-section{margin-bottom:3rem}.logo-bomb{width:120px;height:120px;margin-bottom:1rem}.game-title{font-size:2.5rem;margin-bottom:.5rem;display:flex;justify-content:center;gap:.25rem;flex-wrap:wrap}.tick{color:var(--accent-yellow);animation:tickPulse 1s ease-in-out infinite}.tick:nth-child(2){animation-delay:.33s}.tick:nth-child(3){animation-delay:.66s}.boom{color:var(--accent-red);font-size:3rem}@keyframes tickPulse{0%,to{opacity:.6;transform:scale(1)}50%{opacity:1;transform:scale(1.1)}}.tagline{color:var(--text-secondary);font-size:1.1rem}.home-actions{background:var(--bg-panel);border:2px solid var(--border-color);border-radius:12px;padding:2rem;margin-bottom:2rem}button.large{width:100%;padding:1rem 2rem;font-size:1.2rem}.divider{display:flex;align-items:center;margin:1.5rem 0;color:var(--text-secondary)}.divider:before,.divider:after{content:"";flex:1;height:1px;background:var(--border-color)}.divider span{padding:0 1rem}.join-section{display:flex;gap:1rem}.room-code-input{flex:1;text-align:center;font-size:1.5rem;letter-spacing:.3em;text-transform:uppercase}.leaderboard-preview{background:var(--bg-panel);border:2px solid var(--border-color);border-radius:12px;padding:1.5rem}.leaderboard-preview h3{margin-bottom:1rem;color:var(--accent-yellow)}.no-scores{color:var(--text-secondary);font-style:italic}.score-list{list-style:none}.score-list li{display:flex;justify-content:space-between;padding:.5rem 0;border-bottom:1px solid var(--border-color)}.score-list li:last-child{border-bottom:none}.rank{color:var(--accent-yellow);font-weight:700;width:40px}.time{flex:1;text-align:center}.difficulty{color:var(--text-secondary);text-transform:uppercase;font-size:.9rem;width:80px;text-align:right}.lobby-screen{flex:1;padding:2rem;max-width:1200px;margin:0 auto;width:100%}.lobby-header{text-align:center;margin-bottom:2rem}.room-code{color:var(--accent-yellow);font-size:2rem;letter-spacing:.2em;background:var(--bg-panel);padding:.5rem 1rem;border-radius:8px;border:2px solid var(--border-color)}.share-hint{color:var(--text-secondary);margin-top:.5rem}.lobby-content{display:grid;grid-template-columns:1fr 1fr;gap:2rem}@media(max-width:800px){.lobby-content{grid-template-columns:1fr}}.lobby-left,.lobby-right{display:flex;flex-direction:column;gap:1.5rem}.difficulty-card h2{margin-bottom:1rem}.difficulty-options{display:flex;flex-direction:column;gap:.5rem}.difficulty-btn{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:var(--bg-surface);border:2px solid var(--border-color);border-radius:8px;color:var(--text-primary);transition:all .2s}.difficulty-btn:hover{border-color:var(--accent-yellow)}.difficulty-btn.selected{border-color:var(--accent-yellow);background:#f5c5181a}.diff-name{text-transform:capitalize;font-weight:700}.diff-details{color:var(--text-secondary);font-size:.9rem}.player-settings h2{margin-bottom:1rem}.setting-row{display:flex;align-items:center;margin-bottom:1rem;gap:1rem}.setting-row label{width:60px;color:var(--text-secondary)}.name-edit,.name-display{flex:1;display:flex;gap:.5rem;align-items:center}.name-edit input{flex:1}button.small{padding:.5rem 1rem;font-size:.9rem}.role-buttons{display:flex;gap:.5rem;flex:1}.role-btn{flex:1;padding:.75rem;background:var(--bg-surface);border:2px solid var(--border-color);border-radius:8px;color:var(--text-primary)}.role-btn:hover{border-color:var(--text-secondary)}.role-btn.selected.defuser{border-color:var(--accent-red);background:#e945601a}.role-btn.selected.reader{border-color:var(--accent-green);background:#00d26a1a}.ready-row{margin-top:1.5rem}.ready-btn{width:100%;padding:1rem;background:var(--bg-surface);border:2px solid var(--border-color);border-radius:8px;color:var(--text-primary);font-size:1.1rem}.ready-btn:hover{border-color:var(--accent-green)}.ready-btn.ready{border-color:var(--accent-green);background:#00d26a33;color:var(--accent-green)}.player-list h2{margin-bottom:1rem}.role-section{margin-bottom:1.5rem}.role-section h3{font-size:1rem;color:var(--text-secondary);margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color)}.player-item{display:flex;align-items:center;padding:.75rem;background:var(--bg-surface);border-radius:6px;margin-bottom:.5rem;border:2px solid transparent}.player-item.ready{border-color:var(--accent-green)}.player-name{flex:1}.host-badge{background:var(--accent-yellow);color:var(--bg-dark);padding:.2rem .5rem;border-radius:4px;font-size:.7rem;font-weight:700;margin-right:.5rem}.ready-status{font-size:1.2rem;color:var(--text-secondary)}.ready-status.is-ready{color:var(--accent-green)}.no-player{color:var(--text-secondary);font-style:italic;padding:.75rem}.start-section{text-align:center}.start-btn{width:100%;font-size:1.3rem;padding:1.25rem}.waiting-text{color:var(--text-secondary);padding:1rem}.start-requirements{list-style:none;margin-top:1rem;text-align:left;background:var(--bg-surface);padding:1rem;border-radius:8px}.start-requirements li{padding:.25rem 0;color:var(--accent-red)}.leave-btn{width:100%}.timer{display:flex;align-items:center;gap:.5rem;font-family:Courier New,monospace}.timer-display{font-size:2.5rem;font-weight:700;color:var(--text-primary);background:var(--bg-dark);padding:.5rem 1rem;border-radius:8px;border:3px solid var(--border-color);min-width:140px;text-align:center}.timer.compact .timer-display{font-size:1.2rem;padding:.25rem .75rem;min-width:auto;border-width:2px}.timer.low .timer-display{color:var(--accent-yellow);border-color:var(--accent-yellow);animation:timerPulse 1s ease-in-out infinite}.timer.critical .timer-display{color:var(--accent-red);border-color:var(--accent-red);animation:timerPulse .5s ease-in-out infinite}.timer.paused .timer-display{opacity:.6}.pause-indicator{font-size:1.5rem;color:var(--accent-yellow)}.timer.compact .pause-indicator{font-size:1rem}@keyframes timerPulse{0%,to{box-shadow:0 0 #ff6b6b00}50%{box-shadow:0 0 20px #ff6b6b80}}.strike-indicator{display:flex;flex-direction:column;align-items:center;gap:.5rem}.strike-indicator.compact{flex-direction:row;gap:.5rem}.strike-label{font-size:.85rem;color:var(--text-secondary);font-weight:700;letter-spacing:.1em}.strike-indicator.compact .strike-label{font-size:.75rem}.strike-lights{display:flex;gap:.5rem}.strike-light{width:24px;height:24px;border-radius:50%;background:var(--bg-dark);border:3px solid var(--accent-red);transition:all .3s ease}.strike-indicator.compact .strike-light{width:16px;height:16px;border-width:2px}.strike-light.active{background:var(--accent-red);box-shadow:0 0 15px #ff6b6bb3;animation:strikeFlash .3s ease-out}@keyframes strikeFlash{0%{transform:scale(1.5)}to{transform:scale(1)}}.serial-number{display:flex;flex-direction:column;align-items:flex-start;gap:.25rem}.serial-label{font-size:.75rem;color:var(--text-secondary);letter-spacing:.1em}.serial-value{font-family:Courier New,monospace;font-size:1.5rem;font-weight:700;color:var(--accent-yellow);background:var(--bg-dark);padding:.25rem .75rem;border-radius:4px;border:2px solid var(--border-color);letter-spacing:.15em}.puzzle-instruction{margin-top:1.5rem;color:var(--text-secondary);font-size:.9rem;text-align:center;font-style:italic}.wire-array-puzzle{width:100%}.wire-info{display:flex;gap:.5rem;align-items:center;justify-content:center;margin-bottom:1.5rem;font-size:.9rem}.info-label{color:var(--text-secondary)}.info-value{font-family:Courier New,monospace;font-weight:700;color:var(--accent-yellow)}.info-hint{color:var(--text-secondary);font-size:.85rem}.wires-container{display:flex;flex-direction:column;gap:.75rem}.wire{display:flex;align-items:center;cursor:pointer;transition:transform .2s}.wire:hover:not(.cut){transform:scale(1.02)}.wire.cut{cursor:default;opacity:.5}.wire-connector{width:20px;height:30px;background:#444;border:2px solid #666}.wire-connector.left{border-radius:4px 0 0 4px}.wire-connector.right{border-radius:0 4px 4px 0}.wire-body{flex:1;height:16px;position:relative;border-radius:2px}.wire-cut-mark{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:30px;height:4px;background:var(--bg-panel)}.wire-tag{width:40px;height:28px;background:#ddd;border:2px solid #999;border-radius:4px;display:flex;align-items:center;justify-content:center;margin:0 -5px;z-index:1}.wire-symbol{font-size:1.2rem}.button-matrix-puzzle{width:100%;text-align:center}.hold-indicator{margin-bottom:1rem;font-size:1.2rem;font-weight:700}.button-grid{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.button-row{display:flex;gap:.5rem;justify-content:center}.matrix-button{width:80px;height:80px;border:3px solid rgba(255,255,255,.3);border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;position:relative}.matrix-button:hover{transform:scale(1.05);border-color:#ffffff80}.matrix-button.holding{transform:scale(.95);box-shadow:0 0 20px #ffffff80}.button-label{font-size:.8rem;font-weight:700;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.button-led{position:absolute;top:5px;right:5px;width:10px;height:10px;border-radius:50%;background:#333;border:1px solid #555}.button-led.on{background:#0f0;box-shadow:0 0 10px #0f0}.hold-status{color:var(--accent-yellow);font-weight:700}.keypad-cipher-puzzle{width:100%;text-align:center}.nsa-warning{background:var(--accent-red);color:#fff;padding:.5rem;border-radius:4px;margin-bottom:1rem}.entered-symbols{display:flex;gap:.5rem;justify-content:center;margin-bottom:1.5rem}.symbol-slot{width:50px;height:50px;border:3px solid var(--border-color);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;background:var(--bg-dark)}.symbol-slot.filled{border-color:var(--accent-green);background:#00d26a1a}.keypad-grid{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.keypad-row{display:flex;gap:.5rem;justify-content:center}.keypad-key{width:50px;height:50px;border:2px solid var(--border-color);border-radius:8px;background:var(--bg-surface);color:var(--text-primary);font-size:1.3rem;cursor:pointer;transition:all .2s}.keypad-key:hover:not(:disabled){background:var(--bg-dark);border-color:var(--accent-yellow)}.keypad-key.selected,.keypad-key:disabled{opacity:.3;cursor:default}.clear-btn{margin-top:.5rem}.indicator-lights-puzzle{width:100%}.indicator-status-bar{display:flex;justify-content:center;gap:1.5rem;margin-bottom:1rem;padding:.5rem 1rem;background:var(--bg-surface);border-radius:8px;flex-wrap:wrap}.indicator-status-bar .status-item{font-size:.85rem;font-weight:700}.indicator-status-bar .status-item.valid{color:var(--accent-green)}.indicator-status-bar .status-item.invalid{color:var(--accent-red)}.indicators-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem}.indicator-item{display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.75rem;background:var(--bg-surface);border-radius:8px;position:relative;transition:transform .2s,border-color .2s;border:2px solid transparent}.indicator-item.toggleable{cursor:pointer}.indicator-item.toggleable:hover{transform:scale(1.05);border-color:var(--accent-yellow)}.indicator-item.locked{opacity:.7}.indicator-item .locked-badge{position:absolute;top:4px;right:4px;font-size:.7rem}.indicator-item .flicker-btn{position:absolute;top:4px;left:4px;width:22px;height:22px;border:none;border-radius:4px;background:var(--bg-dark);color:var(--text-secondary);cursor:pointer;font-size:.8rem;padding:0;transition:background .2s,color .2s}.indicator-item .flicker-btn:hover,.indicator-item .flicker-btn.active{background:var(--accent-yellow);color:var(--bg-dark)}.indicator-light{width:24px;height:24px;border-radius:50%;background:#333;border:2px solid #555}.indicator-light.lit{box-shadow:0 0 15px currentColor}.indicator-light.flickering{animation:flicker .5s infinite}@keyframes flicker{0%,to{opacity:1}50%{opacity:.3}}.indicator-label{font-weight:700;font-size:.9rem}.indicator-state{font-size:.75rem;color:var(--text-secondary)}.verification-panel{text-align:center}.verify-info{margin-bottom:1rem;color:var(--text-secondary)}.verify-btn{font-size:1.2rem;padding:.75rem 2rem}.frequency-tuner-puzzle{width:100%;text-align:center}.tuner-info{display:flex;gap:1rem;justify-content:center;margin-bottom:1rem;flex-wrap:wrap}.frk-warning{color:var(--accent-yellow);font-weight:700}.tuner-display{background:#111;border:3px solid #444;border-radius:8px;padding:1.5rem;margin-bottom:1rem}.frequency-display{font-family:Courier New,monospace;font-size:2.5rem;color:#0f0;text-shadow:0 0 10px #00ff00}.audio-indicator{margin-top:.5rem;color:var(--text-secondary)}.frequency-controls{display:flex;gap:.5rem;justify-content:center;margin-bottom:1rem}.freq-btn{padding:.5rem 1rem;border:2px solid var(--border-color);border-radius:4px;background:var(--bg-surface);color:var(--text-primary);cursor:pointer;font-family:Courier New,monospace}.freq-btn:hover{background:var(--bg-dark);border-color:var(--accent-yellow)}.switch-panel{display:flex;gap:1.5rem;justify-content:center;margin-bottom:1.5rem}.switch-group{display:flex;flex-direction:column;gap:.5rem;align-items:center}.switch-group label{font-size:.85rem;color:var(--text-secondary)}.toggle-switch{display:flex;border:2px solid var(--border-color);border-radius:4px;overflow:hidden}.toggle-option{padding:.5rem 1rem;border:none;background:var(--bg-surface);color:var(--text-primary);cursor:pointer}.toggle-option.active{background:var(--accent-yellow);color:#1a1a2e}.toggle-btn{padding:.5rem 1rem;border:2px solid var(--border-color);border-radius:4px;background:var(--bg-surface);color:var(--text-primary);cursor:pointer}.toggle-btn.on{background:var(--accent-green);border-color:var(--accent-green);color:#1a1a2e}.transmit-btn{font-size:1.2rem}.simon-signals-puzzle{width:100%;text-align:center}.simon-info{display:flex;gap:2rem;justify-content:center;margin-bottom:1.5rem}.simon-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem;max-width:220px;margin:0 auto 1.5rem}.simon-button{width:100px;height:100px;border-radius:12px;border:4px solid rgba(255,255,255,.2);cursor:pointer;transition:all .2s}.simon-button:hover:not(:disabled){opacity:.9!important}.simon-button.active{opacity:1!important;box-shadow:0 0 30px currentColor;transform:scale(1.05)}.simon-controls{display:flex;gap:1rem;align-items:center;justify-content:center}.input-count{color:var(--text-secondary)}.sequence-memory-puzzle{width:100%;text-align:center}.stage-indicator{font-size:1.2rem;margin-bottom:1rem;color:var(--accent-yellow)}.memory-display{background:#111;border:3px solid #444;border-radius:8px;padding:1.5rem 2rem;margin-bottom:1.5rem;display:inline-block}.display-value{font-family:Courier New,monospace;font-size:2rem;color:#0f0}.memory-buttons{display:flex;gap:.5rem;justify-content:center;margin-bottom:1rem}.memory-button{width:70px;height:70px;border:3px solid rgba(255,255,255,.3);border-radius:8px;cursor:pointer;font-size:1.5rem;font-weight:700;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.5);transition:all .2s}.memory-button:hover{transform:scale(1.05)}.memory-button.pressed{transform:scale(.95);box-shadow:0 0 20px #ffffff80}.stage-history{text-align:left;background:var(--bg-surface);padding:.75rem;border-radius:8px;margin-top:1rem}.stage-history h4{font-size:.85rem;color:var(--text-secondary);margin-bottom:.5rem}.history-item{display:inline-block;background:var(--bg-dark);padding:.25rem .5rem;border-radius:4px;font-size:.8rem;margin-right:.5rem}.countdown-override-puzzle{width:100%;text-align:center}.mode-display{display:inline-block;padding:.5rem 1.5rem;border:3px solid;border-radius:8px;font-weight:700;font-size:1.2rem;margin-bottom:1rem}.challenge-type{color:var(--text-secondary);margin-bottom:1rem}.challenge-display{background:#111;border:3px solid #444;border-radius:8px;padding:2rem;margin-bottom:1.5rem;font-family:Courier New,monospace;font-size:1.5rem;color:#0f0}.answer-input{display:flex;gap:.5rem;justify-content:center;margin-bottom:1rem}.answer-input input{padding:.75rem 1rem;font-size:1.1rem;border:2px solid var(--border-color);border-radius:8px;background:var(--bg-dark);color:var(--text-primary);width:200px}.answer-input input:focus{border-color:var(--accent-yellow);outline:none}.reward-info{display:flex;gap:2rem;justify-content:center}.reward{padding:.5rem 1rem;border-radius:4px}.reward.positive{background:#00d26a33;color:var(--accent-green)}.reward.negative{background:#ff6b6b33;color:var(--accent-red)}.capacitor-bank-puzzle{width:100%;text-align:center}.total-voltage{font-size:1.2rem;margin-bottom:.5rem}.total-voltage .danger{color:var(--accent-red);font-weight:700}.total-voltage .warning{color:var(--accent-red);margin-left:.5rem}.bob-warning{color:var(--accent-yellow);font-size:.9rem;margin-bottom:1rem}.capacitor-row{display:flex;gap:.75rem;justify-content:center;margin-bottom:1.5rem}.capacitor{display:flex;flex-direction:column;align-items:center;gap:.5rem;position:relative}.capacitor.critical{animation:pulse 1s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}.capacitor-label{font-weight:700;font-size:.85rem}.capacitor-body{width:50px;height:100px;background:var(--bg-dark);border:3px solid #666;border-radius:4px;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}.voltage-fill{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,var(--accent-yellow),var(--accent-red));transition:height .3s}.voltage-text{position:relative;z-index:1;font-size:.8rem;font-weight:700;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.capacitor-controls{display:flex;gap:.25rem}.valve-btn{width:30px;height:30px;border:2px solid var(--border-color);border-radius:4px;background:var(--bg-surface);color:var(--text-primary);cursor:pointer;font-size:1rem}.valve-btn:hover{background:var(--bg-dark)}.critical-badge{position:absolute;top:-5px;right:-5px;width:20px;height:20px;background:var(--accent-red);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.8rem}.discharge-btn{font-size:1.2rem}.pressure-equalizer-puzzle{width:100%;text-align:center}.pressure-display{font-size:1.2rem;margin-bottom:1.5rem}.pressure-display .safe{color:var(--accent-green);font-weight:700}.pressure-display .danger{color:var(--accent-red);font-weight:700}.pressure-display .target{color:var(--text-secondary);font-size:.9rem;margin-left:.5rem}.sliders-container{display:flex;gap:1rem;justify-content:center;margin-bottom:1.5rem}.pressure-slider{display:flex;flex-direction:column;align-items:center;gap:.5rem;position:relative}.pressure-slider.locked{opacity:.5}.slider-label{font-size:.85rem;font-weight:700}.slider-indicator{width:12px;height:12px;border-radius:50%;border:2px solid #555}.slider-indicator.red{background:var(--accent-red)}.slider-indicator.yellow{background:var(--accent-yellow)}.slider-indicator.green{background:var(--accent-green)}.slider-track{display:flex;flex-direction:column;gap:2px;background:var(--bg-dark);padding:4px;border-radius:4px}.slider-position{width:40px;height:24px;display:flex;align-items:center;justify-content:center;font-size:.8rem;background:var(--bg-surface);border-radius:2px}.slider-position.active{background:var(--accent-yellow);color:#1a1a2e;font-weight:700}.slider-controls{display:flex;flex-direction:column;gap:.25rem}.slider-controls button{width:40px;height:28px;border:2px solid var(--border-color);border-radius:4px;background:var(--bg-surface);color:var(--text-primary);cursor:pointer}.slider-controls button:hover:not(:disabled){background:var(--bg-dark)}.slider-controls button:disabled{opacity:.3;cursor:default}.locked-badge{position:absolute;top:0;right:-10px}.maze-navigator-puzzle{width:100%;text-align:center}.maze-legend{display:flex;gap:1.5rem;justify-content:center;margin-bottom:1rem}.legend-item{display:flex;align-items:center;gap:.5rem;font-size:.9rem}.legend-item .symbol{width:20px;text-align:center}.legend-item .symbol.current{color:#fff}.legend-item .symbol.waypoint{color:var(--accent-green)}.legend-item .symbol.goal{color:var(--accent-red)}.waypoint-status{margin-bottom:1rem;color:var(--accent-green)}.maze-grid{display:inline-flex;flex-direction:column;background:var(--bg-dark);padding:4px;border-radius:8px;margin-bottom:1.5rem}.maze-row{display:flex}.maze-cell{width:40px;height:40px;border:1px solid var(--border-color);display:flex;align-items:center;justify-content:center;font-size:1.2rem}.maze-cell.current{background:#fff3;color:#fff}.maze-cell.goal{background:#ff6b6b33;color:var(--accent-red)}.maze-cell.waypoint{background:#00d26a1a;color:var(--accent-green)}.maze-cell.waypoint.visited{color:var(--text-secondary)}.direction-controls{display:flex;flex-direction:column;align-items:center;gap:.25rem}.direction-row{display:flex;gap:.25rem}.direction-btn{width:50px;height:50px;border:2px solid var(--border-color);border-radius:8px;background:var(--bg-surface);color:var(--text-primary);cursor:pointer;font-size:1.2rem}.direction-btn:hover{background:var(--bg-dark);border-color:var(--accent-yellow)}.mechanical-switches-puzzle{width:100%;text-align:center}.pattern-display{display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:1rem}.pattern-label{font-size:.9rem;color:var(--text-secondary)}.pattern-lights{display:flex;gap:.5rem}.pattern-light{width:20px;height:20px;border-radius:50%;background:#333;border:2px solid #555}.pattern-light.on{background:var(--accent-green);box-shadow:0 0 10px var(--accent-green)}.switches-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem}.switch-unit{background:var(--bg-surface);border:2px solid var(--border-color);border-radius:8px;padding:1rem;display:flex;flex-direction:column;align-items:center;gap:.5rem}.switch-unit.red{border-color:var(--accent-red)}.switch-unit.yellow{border-color:var(--accent-yellow)}.switch-unit.green{border-color:var(--accent-green)}.switch-unit.blue{border-color:#44f}.switch-symbol{font-size:1.5rem}.switch-type{font-size:.75rem;color:var(--text-secondary)}.toggle-switch-control{display:flex;flex-direction:column;gap:.25rem}.toggle-pos,.three-pos{padding:.5rem 1rem;border:2px solid var(--border-color);border-radius:4px;background:var(--bg-dark);color:var(--text-primary);cursor:pointer;font-size:.8rem}.toggle-pos.active,.three-pos.active{background:var(--accent-yellow);color:#1a1a2e;border-color:var(--accent-yellow)}.three-pos-control{display:flex;gap:.25rem}.rotary-control{display:flex;flex-direction:column;align-items:center;gap:.5rem}.rotary-dial{width:50px;height:50px;background:var(--bg-dark);border:3px solid #666;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;transition:transform .3s}.rotary-buttons{display:flex;gap:.5rem}.rotary-buttons button{width:30px;height:30px;border:2px solid var(--border-color);border-radius:4px;background:var(--bg-surface);color:var(--text-primary);cursor:pointer}.switch-housing-color{font-size:.7rem;text-transform:uppercase;padding:.2rem .5rem;border-radius:4px;background:var(--bg-dark)}.switch-housing-color.red{color:var(--accent-red)}.switch-housing-color.yellow{color:var(--accent-yellow)}.switch-housing-color.green{color:var(--accent-green)}.switch-housing-color.blue{color:#44f}.confirm-btn{font-size:1.1rem}.puzzle-instruction-box{margin-top:1.5rem;padding:1rem;background:#0000004d;border:1px solid var(--border-color);border-radius:8px;text-align:left;max-width:500px;margin-left:auto;margin-right:auto}.puzzle-instruction-box h4{margin:0 0 .75rem;color:var(--accent-yellow);font-size:1rem;border-bottom:1px solid var(--border-color);padding-bottom:.5rem}.puzzle-instruction-box ol{margin:0;padding-left:1.25rem;color:var(--text-secondary)}.puzzle-instruction-box ol li{margin-bottom:.5rem;font-size:.85rem;line-height:1.4}.puzzle-instruction-box ol li strong{color:var(--text-primary)}.puzzle-instruction-box .note{margin-top:.75rem;margin-bottom:0;padding:.5rem;background:#ffc8001a;border-left:3px solid var(--accent-yellow);font-size:.8rem;color:var(--accent-yellow)}.puzzle-panel{background:var(--bg-panel);border:4px solid var(--border-color);border-radius:16px;padding:1.5rem;min-width:400px;max-width:600px;box-shadow:0 10px 40px #00000080}.puzzle-header{border-bottom:3px solid var(--border-color);padding-bottom:1rem;margin-bottom:1.5rem}.puzzle-header h2{color:var(--accent-yellow);font-size:1.5rem;text-align:center;text-transform:uppercase;letter-spacing:.1em}.puzzle-content{min-height:300px;display:flex;flex-direction:column;align-items:center;justify-content:center}.unknown-puzzle{color:var(--text-secondary);font-style:italic}.takeover-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#000000e6;display:flex;align-items:center;justify-content:center;z-index:1000;animation:fadeIn .3s ease}.takeover-modal{background:var(--bg-panel);border:3px solid var(--accent-yellow);border-radius:16px;padding:2.5rem;max-width:450px;text-align:center;animation:slideUp .3s ease}.takeover-icon{font-size:4rem;margin-bottom:1rem}.takeover-modal h2{color:var(--accent-yellow);margin-bottom:1rem;font-size:1.5rem}.takeover-message{color:var(--text-primary);font-size:1.1rem;margin-bottom:1.5rem}.takeover-info{color:var(--text-secondary);margin-bottom:1.5rem}.takeover-btn{font-size:1.1rem;padding:.75rem 2rem}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.defuser-screen{flex:1;display:flex;flex-direction:column;background:linear-gradient(180deg,#1a1a2e,#0f0f1a);overflow:hidden}.loading{flex:1;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:var(--text-secondary)}.game-header{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background:var(--bg-panel);border-bottom:3px solid var(--border-color)}.header-left,.header-right{flex:1}.header-right{display:flex;justify-content:flex-end}.header-center{flex:0 0 auto}.progress-bar{padding:.75rem 2rem;background:var(--bg-surface)}.progress-info{display:flex;justify-content:space-between;font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}.progress-track{height:8px;background:var(--bg-dark);border-radius:4px;overflow:hidden}.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent-green),#00ff88);border-radius:4px;transition:width .3s ease}.puzzle-area{flex:1;display:flex;align-items:center;justify-content:center;padding:2rem;overflow:auto}.puzzle-list{display:flex;gap:.5rem;padding:1rem 2rem;background:var(--bg-panel);border-top:2px solid var(--border-color);overflow-x:auto}.puzzle-indicator{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:var(--bg-surface);border:2px solid var(--border-color);border-radius:6px;font-size:.85rem;white-space:nowrap}.puzzle-indicator.current{border-color:var(--accent-yellow);background:#f5c5181a}.puzzle-indicator.completed{border-color:var(--accent-green);background:#00d26a1a}.puzzle-indicator .check{color:var(--accent-green);font-weight:700}.reader-screen{flex:1;display:flex;flex-direction:column;background:#f5f0e1;color:#2a2a2a}.loading{flex:1;display:flex;align-items:center;justify-content:center}.reader-status-bar{display:flex;align-items:center;justify-content:space-between;padding:.5rem 1rem;background:#1a1a2e;color:#fff;position:sticky;top:0;z-index:100}.status-left{display:flex;align-items:center;gap:1rem}.role-badge{background:var(--accent-green);color:#1a1a2e;padding:.25rem .75rem;border-radius:4px;font-weight:700;font-size:.9rem}.room-info{color:var(--text-secondary)}.manual-container{flex:1;display:flex;overflow:hidden}.manual-sidebar{width:220px;background:#e8e0c8;border-right:3px solid #8b7355;padding:1rem;overflow-y:auto;position:sticky;top:44px;height:calc(100vh - 44px)}.manual-sidebar h3{margin-bottom:1rem;color:#4a3728;border-bottom:2px solid #8b7355;padding-bottom:.5rem}.toc{display:flex;flex-direction:column;gap:.5rem}.toc a{color:#4a3728;text-decoration:none;padding:.5rem;border-radius:4px;font-size:.9rem;transition:background .2s}.toc a:hover{background:#8b735533}.manual-content{flex:1;padding:2rem 3rem;overflow-y:auto;max-width:900px;margin:0 auto}.manual-header{text-align:center;margin-bottom:3rem;padding-bottom:2rem;border-bottom:3px double #8b7355}.manual-header h1{font-size:2.5rem;color:#8b0000;margin-bottom:.5rem;text-shadow:2px 2px 0 rgba(0,0,0,.1)}.manual-subtitle{font-size:1.1rem;color:#4a3728;margin-bottom:1rem}.manual-warning{display:inline-block;background:#8b0000;color:#fff;padding:.5rem 1rem;font-weight:700;border-radius:4px}.manual-section{margin-bottom:3rem;padding-bottom:2rem;border-bottom:2px solid #d4c9b0}.manual-section h2{color:#8b0000;font-size:1.8rem;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid #8b0000}.section-intro{font-style:italic;color:#666;margin-bottom:1.5rem;font-size:1.1rem}.rule-box{background:#fff9e6;border:2px solid #d4a017;border-radius:8px;padding:1.5rem;margin-bottom:1.5rem}.rule-box.warning{background:#fff0f0;border-color:#8b0000}.rule-box h3{color:#8b6914;margin-bottom:1rem}.rule-box ul{margin-left:1.5rem}.rule-box li{margin-bottom:.5rem}.rule-table{background:#fff;border:2px solid #8b7355;border-radius:8px;padding:1.5rem;margin-bottom:1.5rem}.rule-table.important{border-color:#8b0000;border-width:3px}.rule-table h3{color:#4a3728;margin-top:1rem;margin-bottom:.5rem}.rule-table h3:first-child{margin-top:0}.rule-table ul,.rule-table ol{margin-left:1.5rem;margin-bottom:1rem}.rule-table li{margin-bottom:.4rem;line-height:1.5}.rule-table p{margin-bottom:.75rem;line-height:1.6}.rule-table table{width:100%;border-collapse:collapse;margin:1rem 0}.rule-table th,.rule-table td{border:1px solid #8b7355;padding:.5rem 1rem;text-align:left}.rule-table th{background:#e8e0c8}.rule-table .note{background:#fff3cd;padding:.75rem;border-radius:4px;border-left:4px solid #d4a017;font-style:italic}.columns-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin:1rem 0}.symbol-column{background:#f5f0e1;padding:1rem;border-radius:4px;text-align:center}.symbol-column h4{margin-bottom:.5rem;color:#4a3728}.symbol-column p{font-size:1.2rem;letter-spacing:.2em}.translation-tables{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin:1rem 0}.trans-table{background:#f5f0e1;padding:1rem;border-radius:4px}.trans-table h4{font-size:.9rem;margin-bottom:.5rem;color:#4a3728}.trans-table p{font-size:.85rem;line-height:1.4}.manual-footer{text-align:center;padding:2rem;border-top:3px double #8b7355;margin-top:2rem}.manual-footer p{margin-bottom:.5rem}.footer-warning{color:#8b0000;font-weight:700;font-style:italic}@media(max-width:768px){.manual-sidebar{display:none}.manual-content{padding:1rem}.columns-grid,.translation-tables{grid-template-columns:1fr}}.leaderboard{height:100%;display:flex;flex-direction:column}.leaderboard h3{margin-bottom:1rem;color:var(--text-primary);border-bottom:2px solid var(--border-color);padding-bottom:.5rem}.leaderboard.compact h3{font-size:1rem}.no-entries{color:var(--text-secondary);text-align:center;padding:2rem;font-style:italic}.leaderboard-list{list-style:none;padding:0;margin:0;overflow-y:auto;flex:1}.leaderboard-entry{display:flex;align-items:center;gap:.75rem;padding:.75rem;border-radius:8px;margin-bottom:.5rem;background:var(--bg-surface);transition:background .2s}.leaderboard-entry:hover{background:var(--bg-dark)}.leaderboard-entry.top-three{background:#f5c5181a}.leaderboard.compact .leaderboard-entry{padding:.5rem}.rank{width:2rem;text-align:center;font-size:1.2rem}.leaderboard.compact .rank{font-size:1rem}.entry-info{flex:1;display:flex;flex-direction:column;gap:.1rem;overflow:hidden}.entry-name{font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.entry-details{font-size:.8rem;color:var(--text-secondary);text-transform:capitalize}.leaderboard.compact .entry-details{display:none}.entry-score{font-weight:700;font-size:1.2rem;color:var(--accent-yellow);font-family:Courier New,monospace}.leaderboard.compact .entry-score{font-size:1rem}.gameover-screen{flex:1;display:flex;flex-direction:column;padding:2rem;background:linear-gradient(180deg,#1a1a2e,#0f0f1a);overflow-y:auto}.gameover-screen.victory{background:linear-gradient(180deg,#1a2e1a,#0f1a0f)}.gameover-screen.defeat{background:linear-gradient(180deg,#2e1a1a,#1a0f0f)}.loading{flex:1;display:flex;align-items:center;justify-content:center;color:var(--text-secondary)}.result-banner{text-align:center;padding:2rem;margin-bottom:2rem}.result-title{font-size:3rem;margin-bottom:.5rem;animation:pulseScale .5s ease-out}.victory-title{color:var(--accent-green);text-shadow:0 0 20px rgba(0,210,106,.5)}.defeat-title{color:var(--accent-red);text-shadow:0 0 20px rgba(255,107,107,.5);animation:shake .5s ease-out}.result-subtitle{font-size:1.5rem;color:var(--text-secondary)}@keyframes pulseScale{0%{transform:scale(.8);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}@keyframes shake{0%,to{transform:translate(0)}20%{transform:translate(-10px)}40%{transform:translate(10px)}60%{transform:translate(-10px)}80%{transform:translate(10px)}}.gameover-content{display:grid;grid-template-columns:1fr 1fr;gap:2rem;max-width:1000px;margin:0 auto;width:100%}.stats-panel{background:var(--bg-panel);border:2px solid var(--border-color);border-radius:12px;padding:1.5rem}.stats-panel h2{margin-bottom:1.5rem;color:var(--text-primary);border-bottom:2px solid var(--border-color);padding-bottom:.5rem}.stat-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.5rem}.stat-item{display:flex;flex-direction:column;background:var(--bg-surface);padding:1rem;border-radius:8px}.stat-label{font-size:.85rem;color:var(--text-secondary);margin-bottom:.25rem}.stat-value{font-size:1.3rem;font-weight:700;color:var(--text-primary)}.stat-value.strikes{color:var(--accent-red)}.stat-value.capitalize{text-transform:capitalize}.score-display{text-align:center;padding:1.5rem;background:linear-gradient(135deg,#00d26a1a,#00d26a33);border:2px solid var(--accent-green);border-radius:12px}.score-display h3{color:var(--text-secondary);margin-bottom:.5rem}.score-value{font-size:3rem;font-weight:700;color:var(--accent-green);text-shadow:0 0 10px rgba(0,210,106,.5)}.leaderboard-panel{background:var(--bg-panel);border:2px solid var(--border-color);border-radius:12px;padding:1.5rem;overflow:hidden}.gameover-actions{display:flex;gap:1rem;justify-content:center;margin-top:2rem}.btn-large{padding:1rem 2.5rem;font-size:1.2rem}@media(max-width:768px){.gameover-content{grid-template-columns:1fr}.result-title{font-size:2rem}.gameover-actions{flex-direction:column}}.app{min-height:100vh;display:flex;flex-direction:column}.connection-banner{background:var(--accent-yellow);color:var(--bg-dark);padding:.5rem;text-align:center;font-weight:700}.error-banner{background:var(--accent-red);color:#fff;padding:.5rem;text-align:center;font-weight:700}:root{--bg-dark: #1a1a2e;--bg-panel: #16213e;--bg-surface: #0f3460;--accent-red: #e94560;--accent-yellow: #f5c518;--accent-green: #00d26a;--text-primary: #eaeaea;--text-secondary: #a0a0a0;--border-color: #3a3a5c}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Courier New,Courier,monospace;background-color:var(--bg-dark);color:var(--text-primary);min-height:100vh}#root{min-height:100vh;display:flex;flex-direction:column}button{font-family:inherit;cursor:pointer;border:none;padding:.75rem 1.5rem;border-radius:4px;font-size:1rem;font-weight:700;text-transform:uppercase;transition:all .2s ease}button:disabled{opacity:.5;cursor:not-allowed}button.primary{background:var(--accent-red);color:#fff}button.primary:hover:not(:disabled){background:#ff5a7a;transform:translateY(-2px)}button.secondary{background:var(--bg-surface);color:var(--text-primary);border:2px solid var(--border-color)}button.secondary:hover:not(:disabled){background:var(--border-color)}input,select{font-family:inherit;padding:.75rem;border-radius:4px;border:2px solid var(--border-color);background:var(--bg-panel);color:var(--text-primary);font-size:1rem}input:focus,select:focus{outline:none;border-color:var(--accent-yellow)}.card{background:var(--bg-panel);border:2px solid var(--border-color);border-radius:8px;padding:1.5rem}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.pulse{animation:pulse 1s ease-in-out infinite}.shake{animation:shake .3s ease-in-out}.timer{font-size:3rem;font-weight:700;font-family:Courier New,monospace;letter-spacing:.1em}.timer.critical{color:var(--accent-red);animation:pulse .5s ease-in-out infinite}.timer.warning{color:var(--accent-yellow)}.timer.safe{color:var(--accent-green)}.strikes{display:flex;gap:.5rem}.strike-bomb{width:40px;height:40px;position:relative}.strike-bomb.exploded:after{content:"âœ•";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2rem;color:var(--accent-red);font-weight:700}
